{"version":3,"sources":["../../../../src/components/tabbable-navigation/wrapper/wrapper.tsx"],"names":["React","useEffect","useRef","baseLevelMove","Wrapper","component","children","preventDefault","stopPropagation","callback","otherProps","ref","props","handler","e","keyCode","shiftKey","ctrlKey","app","current","focus","addEventListener","removeEventListener","createElement"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAA2BC,aAA3B,QAA+C,mBAA/C;;AAEA,MAAMC,OAAwB,GAAG,CAAC;AAChCC,EAAAA,SADgC;AAEhCC,EAAAA,QAFgC;AAGhCC,EAAAA,cAHgC;AAIhCC,EAAAA,eAJgC;AAKhCC,EAAAA,QALgC;AAMhC,KAAGC;AAN6B,CAAD,KAO3B;AACJ,QAAMC,GAAG,GAAGT,MAAM,CAA4B,IAA5B,CAAlB;AACA,QAAMU,KAAK,GAAG;AAAEL,IAAAA,cAAF;AAAkBE,IAAAA,QAAlB;AAA4BD,IAAAA;AAA5B,GAAd;;AAEA,QAAMK,OAAO,GAAIC,CAAD,IAAsB;AACpC;AACA,QAAIA,CAAC,CAACC,OAAF,KAAc,CAAd,IAAmBD,CAAC,CAACE,QAAzB,EAAmC;AACjCb,MAAAA,aAAa,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,KAAR,CAAb;AACA;AACD,KALmC,CAMpC;;;AACA,QAAIE,CAAC,CAACC,OAAF,KAAc,CAAd,IAAmB,CAACD,CAAC,CAACE,QAA1B,EAAqC;AACnCb,MAAAA,aAAa,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,KAAR,CAAb;AACA;AACD,KAVmC,CAWpC;;;AACA,QAAI,CAACE,CAAC,CAACE,QAAH,IAAeF,CAAC,CAACG,OAAjB,IAA4BH,CAAC,CAACC,OAAF,KAAc,EAA9C,EAAkD;AAChDD,MAAAA,CAAC,CAACP,cAAF;AACA;AACD,KAfmC,CAgBpC;;;AACA,QAAI,CAACO,CAAC,CAACE,QAAH,IAAeF,CAAC,CAACG,OAAjB,IAA4BH,CAAC,CAACC,OAAF,KAAc,EAA9C,EAAkD;AAChDD,MAAAA,CAAC,CAACP,cAAF;AACA;AACD,KApBmC,CAqBpC;;;AACA,QAAI,CAACO,CAAC,CAACE,QAAH,IAAeF,CAAC,CAACG,OAAjB,IAA4BH,CAAC,CAACC,OAAF,KAAc,EAA9C,EAAkD;AAChDD,MAAAA,CAAC,CAACP,cAAF;AACA;AACD,KAzBmC,CA0BpC;;;AACA,QAAI,CAACO,CAAC,CAACE,QAAH,IAAeF,CAAC,CAACG,OAAjB,IAA4BH,CAAC,CAACC,OAAF,KAAc,EAA9C,EAAkD;AAChDD,MAAAA,CAAC,CAACP,cAAF;AACA;AACD;AACF,GA/BD;;AAiCAN,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,GAAG,GAAGP,GAAG,CAACQ,OAAhB;;AACA,QAAID,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACE,KAAJ;AACAF,MAAAA,GAAG,CAACG,gBAAJ,CAAqB,SAArB,EAAgCR,OAAhC;AACD;;AACD,WAAO,MAAM;AACXK,MAAAA,GAAG,EAAEI,mBAAL,CAAyB,SAAzB,EAAoCT,OAApC;AACD,KAFD;AAGD,GATQ,EASN,EATM,CAAT;AAWA,SAAOb,KAAK,CAACuB,aAAN,CACJlB,SAAS,GAAG,KADR,EAEL;AACEM,IAAAA,GADF;AAEE,kBAAc,CAAC,CAFjB;AAGE,OAAGD;AAHL,GAFK,EAOLJ,QAPK,CAAP;AASD,CAhED;;AAkEA,eAAeF,OAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { WithLevel, Props, baseLevelMove} from \"../../../handlers\";\r\n\r\nconst Wrapper: React.FC<Props> = ({\r\n  component,\r\n  children,\r\n  preventDefault,\r\n  stopPropagation,\r\n  callback,\r\n  ...otherProps\r\n}) => {\r\n  const ref = useRef<WithLevel<HTMLDivElement>>(null);\r\n  const props = { preventDefault, callback, stopPropagation };\r\n\r\n  const handler = (e: KeyboardEvent) => {\r\n    // tab\r\n    if (e.keyCode === 9 && e.shiftKey) {\r\n      baseLevelMove(e, -1, props)\r\n      return\r\n    }\r\n    // shift+tab\r\n    if (e.keyCode === 9 && !e.shiftKey ) {\r\n      baseLevelMove(e, +1, props)\r\n      return\r\n    }\r\n    // ctrl+j DO NOTHING\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 74) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n    // ctrl+k DO NOTHING\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 75) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n    // ctrl+h DO NOTHING\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 72) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n    // ctrl+l DO NOTHING\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 76) {\r\n      e.preventDefault()\r\n      return\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const app = ref.current;\r\n    if (app) {\r\n      app.focus();\r\n      app.addEventListener(\"keydown\", handler);\r\n    }\r\n    return () => {\r\n      app?.removeEventListener(\"keydown\", handler);\r\n    };\r\n  }, []);\r\n\r\n  return React.createElement(\r\n    (component = \"div\"),\r\n    {\r\n      ref,\r\n      \"data-level\": -1,\r\n      ...otherProps\r\n    },\r\n    children\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n"],"file":"wrapper.js"}