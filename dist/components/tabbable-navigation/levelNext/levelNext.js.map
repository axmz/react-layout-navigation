{"version":3,"sources":["../../../../src/components/tabbable-navigation/levelNext/levelNext.tsx"],"names":["React","useRef","useEffect","levelsMove","sameLevelMove","LevelNext","component","children","stopPropagation","preventDefault","callback","otherProps","ref","handlerProps","handler","e","shiftKey","ctrlKey","keyCode","app","current","focus","addEventListener","removeEventListener","c","createElement"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,SAA2BC,UAA3B,EAAuCC,aAAvC,QAA0E,mBAA1E;;AAEA,MAAMC,SAA0B,GAAG,CAAC;AAClCC,EAAAA,SADkC;AAElCC,EAAAA,QAFkC;AAGlCC,EAAAA,eAHkC;AAIlCC,EAAAA,cAJkC;AAKlCC,EAAAA,QALkC;AAMlC,KAAGC;AAN+B,CAAD,KAO7B;AACJ,QAAMC,GAAG,GAAGX,MAAM,CAAY,IAAZ,CAAlB;AACA,QAAMY,YAA0B,GAAG;AAAEJ,IAAAA,cAAF;AAAkBC,IAAAA,QAAlB;AAA4BF,IAAAA;AAA5B,GAAnC;;AACA,QAAMM,OAAO,GAAIC,CAAD,IAAsB;AACpC;AACA,QAAI,CAACA,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAA9C,EAAkD;AAChDd,MAAAA,aAAa,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAb;AACA;AACD,KALmC,CAMpC;;;AACA,QAAI,CAACE,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAA9C,EAAkD;AAChDd,MAAAA,aAAa,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAb;AACA;AACD,KAVmC,CAWpC;;;AACA,QAAKE,CAAC,CAACG,OAAF,KAAc,EAAd,IAAoB,CAACH,CAAC,CAACE,OAAxB,IAAqC,CAACF,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAAnF,EAAwF;AACtFf,MAAAA,UAAU,CAACY,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAV;AACA;AACD,KAfmC,CAgBpC;;;AACA,QAAIE,CAAC,CAACG,OAAF,KAAc,EAAd,IAAqB,CAACH,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAAnE,EAAwE;AACtEf,MAAAA,UAAU,CAACY,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAV;AACA;AACD;AACF,GArBD;;AAuBAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,GAAG,GAAGP,GAAG,CAACQ,OAAhB;;AACA,QAAID,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACE,KAAJ;AACAF,MAAAA,GAAG,CAACG,gBAAJ,CAAqB,SAArB,EAAgCR,OAAhC;AACD;;AACD,WAAO,MAAM;AACXK,MAAAA,GAAG,EAAEI,mBAAL,CAAyB,SAAzB,EAAoCT,OAApC;AACD,KAFD;AAGD,GATQ,EASN,EATM,CAAT;AAWA,MAAIU,CAAC,GAAGlB,SAAS,GAAGA,SAAH,GAAe,KAAhC;AACA,SAAON,KAAK,CAACyB,aAAN,CACLD,CADK,EAEL;AACEZ,IAAAA,GADF;AAEE;AACA,OAAGD;AAHL,GAFK,EAOLJ,QAPK,CAAP;AASD,CAtDD;;AAwDA,eAAeF,SAAf","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { WithLevel, Props, levelsMove, sameLevelMove, HandlerProps } from \"../../../handlers\";\r\n\r\nconst LevelNext: React.FC<Props> = ({\r\n  component,\r\n  children,\r\n  stopPropagation,\r\n  preventDefault,\r\n  callback,\r\n  ...otherProps\r\n}) => {\r\n  const ref = useRef<WithLevel>(null);\r\n  const handlerProps: HandlerProps = { preventDefault, callback, stopPropagation };\r\n  const handler = (e: KeyboardEvent) => {\r\n    // ctrl+j\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 74) {\r\n      sameLevelMove(e, +1, handlerProps)\r\n      return\r\n    }\r\n    // ctrl+k\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 75) {\r\n      sameLevelMove(e, +1, handlerProps)\r\n      return\r\n    }\r\n    // enter / ctrl+l\r\n    if ((e.keyCode === 13 && !e.ctrlKey) || (!e.shiftKey && e.ctrlKey && e.keyCode === 76)) {\r\n      levelsMove(e, +1, handlerProps)\r\n      return\r\n    }\r\n    // esc / ctrl+h\r\n    if (e.keyCode === 27 || (!e.shiftKey && e.ctrlKey && e.keyCode === 72)) {\r\n      levelsMove(e, -1, handlerProps)\r\n      return\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const app = ref.current;\r\n    if (app) {\r\n      app.focus();\r\n      app.addEventListener(\"keydown\", handler);\r\n    }\r\n    return () => {\r\n      app?.removeEventListener(\"keydown\", handler);\r\n    };\r\n  }, []);\r\n\r\n  let c = component ? component : \"div\" \r\n  return React.createElement(\r\n    c,\r\n    {\r\n      ref,\r\n      // 'data-level': 2,\r\n      ...otherProps\r\n    },\r\n    children\r\n  );\r\n};\r\n\r\nexport default LevelNext;\r\n"],"file":"levelNext.js"}