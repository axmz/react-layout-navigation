{"version":3,"sources":["../../../../src/components/tabbable-navigation/level0/level0.tsx"],"names":["React","useRef","useEffect","levelBelowMove","levelsMove","Level0","component","preventDefault","callback","stopPropagation","children","otherProps","ref","handlerProps","handler","e","shiftKey","ctrlKey","keyCode","app","current","focus","addEventListener","removeEventListener","c","createElement"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,SAA2BC,cAA3B,EAA2CC,UAA3C,QAA2E,mBAA3E;;AAEA,MAAMC,MAAuB,GAAG,CAAC;AAC/BC,EAAAA,SAD+B;AAE/BC,EAAAA,cAF+B;AAG/BC,EAAAA,QAH+B;AAI/BC,EAAAA,eAJ+B;AAK/BC,EAAAA,QAL+B;AAM/B,KAAGC;AAN4B,CAAD,KAO1B;AACJ,QAAMC,GAAG,GAAGX,MAAM,CAA4B,IAA5B,CAAlB;AACA,QAAMY,YAA0B,GAAG;AAAEN,IAAAA,cAAF;AAAkBC,IAAAA,QAAlB;AAA4BC,IAAAA;AAA5B,GAAnC;;AAEA,QAAMK,OAAO,GAAIC,CAAD,IAAsB;AACpC;AACA,QAAI,CAACA,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAA9C,EAAkD;AAChDf,MAAAA,cAAc,CAACY,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAd;AACA;AACD,KALmC,CAMpC;;;AACA,QAAI,CAACE,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAA9C,EAAkD;AAChDf,MAAAA,cAAc,CAACY,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAd;AACA;AACD,KAVmC,CAWpC;;;AACA,QAAKE,CAAC,CAACG,OAAF,KAAc,EAAd,IAAoB,CAACH,CAAC,CAACE,OAAxB,IAAqC,CAACF,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAAnF,EAAwF;AACtFd,MAAAA,UAAU,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAV;AACA;AACD,KAfmC,CAgBpC;;;AACA,QAAIE,CAAC,CAACG,OAAF,KAAc,EAAd,IAAqB,CAACH,CAAC,CAACC,QAAH,IAAeD,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACG,OAAF,KAAc,EAAnE,EAAwE;AACtEd,MAAAA,UAAU,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAV;AACA;AACD;AACF,GArBD;;AAuBAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,GAAG,GAAGP,GAAG,CAACQ,OAAhB;;AACA,QAAID,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACE,KAAJ;AACAF,MAAAA,GAAG,CAACG,gBAAJ,CAAqB,SAArB,EAAgCR,OAAhC;AACD;;AACD,WAAO,MAAM;AACXK,MAAAA,GAAG,EAAEI,mBAAL,CAAyB,SAAzB,EAAoCT,OAApC;AACD,KAFD;AAGD,GATQ,EASN,EATM,CAAT;AAWA,MAAIU,CAAC,GAAGlB,SAAS,GAAGA,SAAH,GAAe,KAAhC;AACA,SAAON,KAAK,CAACyB,aAAN,CACLD,CADK,EAEL;AACEZ,IAAAA,GADF;AAEE,kBAAc,CAFhB;AAGE,OAAGD;AAHL,GAFK,EAOLD,QAPK,CAAP;AASD,CAvDD;;AAyDA,eAAeL,MAAf","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { WithLevel, Props, levelBelowMove, levelsMove, HandlerProps } from \"../../../handlers\";\r\n\r\nconst Level0: React.FC<Props> = ({\r\n  component,\r\n  preventDefault, \r\n  callback,\r\n  stopPropagation,\r\n  children,\r\n  ...otherProps\r\n}) => {\r\n  const ref = useRef<WithLevel<HTMLDivElement>>(null);\r\n  const handlerProps: HandlerProps = { preventDefault, callback, stopPropagation };\r\n\r\n  const handler = (e: KeyboardEvent) => {\r\n    // ctrl+j\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 74) {\r\n      levelBelowMove(e, +1, handlerProps)\r\n      return\r\n    }\r\n    // ctrl+k\r\n    if (!e.shiftKey && e.ctrlKey && e.keyCode === 75) {\r\n      levelBelowMove(e, -1, handlerProps)\r\n      return\r\n    }\r\n    // enter / ctrl+l\r\n    if ((e.keyCode === 13 && !e.ctrlKey) || (!e.shiftKey && e.ctrlKey && e.keyCode === 76)) {\r\n      levelsMove(e, +1, handlerProps)\r\n      return\r\n    }\r\n    // esc / ctrl+h\r\n    if (e.keyCode === 27 || (!e.shiftKey && e.ctrlKey && e.keyCode === 72)) {\r\n      levelsMove(e, -1, handlerProps)\r\n      return\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const app = ref.current;\r\n    if (app) {\r\n      app.focus();\r\n      app.addEventListener(\"keydown\", handler);\r\n    }\r\n    return () => {\r\n      app?.removeEventListener(\"keydown\", handler);\r\n    };\r\n  }, []);\r\n\r\n  let c = component ? component : \"div\" \r\n  return React.createElement(\r\n    c,\r\n    {\r\n      ref,\r\n      'data-level': 0,\r\n      ...otherProps,\r\n    },\r\n    children\r\n  );\r\n};\r\n\r\nexport default Level0;\r\n"],"file":"level0.js"}