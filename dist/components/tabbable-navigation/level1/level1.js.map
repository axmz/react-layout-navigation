{"version":3,"sources":["../../../../src/components/tabbable-navigation/level1/level1.tsx"],"names":["React","useRef","useEffect","useCallback","levelsMove","Level1","component","children","preventDefault","stopPropagation","callback","otherProps","ref","handlerProps","handler","e","keyCode","ctrlKey","shiftKey","app","current","focus","addEventListener","removeEventListener","c","createElement"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,WAAnC,QAAsD,OAAtD;AACA,SAIEC,UAJF,QAKO,mBALP;;AAOA,MAAMC,MAAuB,GAAG,CAAC;AAC/BC,EAAAA,SAD+B;AAE/BC,EAAAA,QAF+B;AAG/BC,EAAAA,cAH+B;AAI/BC,EAAAA,eAJ+B;AAK/BC,EAAAA,QAL+B;AAM/B,KAAGC;AAN4B,CAAD,KAO1B;AACJ,QAAMC,GAAG,GAAGX,MAAM,CAAY,IAAZ,CAAlB;AACA,QAAMY,YAAY,GAAG;AAAEL,IAAAA,cAAF;AAAkBE,IAAAA,QAAlB;AAA4BD,IAAAA;AAA5B,GAArB;AACA,QAAMK,OAAO,GAAGX,WAAW,CACxBY,CAAD,IAAsB;AACpB;AACA,QACGA,CAAC,CAACC,OAAF,KAAc,EAAd,IAAoB,CAACD,CAAC,CAACE,OAAxB,IACC,CAACF,CAAC,CAACG,QAAH,IAAeH,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACC,OAAF,KAAc,EAF7C,EAGI;AACFZ,MAAAA,UAAU,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAV;AACA;AACD,KARmB,CASpB;;;AACA,QAAIE,CAAC,CAACC,OAAF,KAAc,EAAd,IAAqB,CAACD,CAAC,CAACG,QAAH,IAAeH,CAAC,CAACE,OAAjB,IAA4BF,CAAC,CAACC,OAAF,KAAc,EAAnE,EAAwE;AACtEZ,MAAAA,UAAU,CAACW,CAAD,EAAI,CAAC,CAAL,EAAQF,YAAR,CAAV;AACA;AACD;AACF,GAfwB,EAgBzB,EAhByB,CAA3B;AAmBAX,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,GAAG,GAAGP,GAAG,CAACQ,OAAhB;;AACA,QAAID,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACE,KAAJ;AACAF,MAAAA,GAAG,CAACG,gBAAJ,CAAqB,SAArB,EAAgCR,OAAhC;AACD;;AACD,WAAO,MAAM;AACXK,MAAAA,GAAG,EAAEI,mBAAL,CAAyB,SAAzB,EAAoCT,OAApC;AACD,KAFD;AAGD,GATQ,EASN,CAACF,GAAD,EAAME,OAAN,CATM,CAAT;AAWA,MAAIU,CAAC,GAAGlB,SAAS,GAAGA,SAAH,GAAe,KAAhC;AACA,SAAON,KAAK,CAACyB,aAAN,CACLD,CADK,EAEL;AACEZ,IAAAA,GADF;AAEE,kBAAc,CAFhB;AAGE,OAAGD;AAHL,GAFK,EAOLJ,QAPK,CAAP;AASD,CAlDD;;AAoDA,eAAeF,MAAf","sourcesContent":["import React, { useRef, useEffect, useCallback } from \"react\";\r\nimport {\r\n  WithLevel,\r\n  Props,\r\n  WithAttributes,\r\n  levelsMove\r\n} from \"../../../handlers\";\r\n\r\nconst Level1: React.FC<Props> = ({\r\n  component,\r\n  children,\r\n  preventDefault,\r\n  stopPropagation,\r\n  callback,\r\n  ...otherProps\r\n}) => {\r\n  const ref = useRef<WithLevel>(null);\r\n  const handlerProps = { preventDefault, callback, stopPropagation };\r\n  const handler = useCallback(\r\n    (e: KeyboardEvent) => {\r\n      // enter / ctrl+l\r\n      if (\r\n        (e.keyCode === 13 && !e.ctrlKey) ||\r\n        (!e.shiftKey && e.ctrlKey && e.keyCode === 76)\r\n        ) {\r\n        levelsMove(e, +1, handlerProps);\r\n        return;\r\n      }\r\n      // esc / ctrl+h\r\n      if (e.keyCode === 27 || (!e.shiftKey && e.ctrlKey && e.keyCode === 72)) {\r\n        levelsMove(e, -1, handlerProps);\r\n        return;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    const app = ref.current;\r\n    if (app) {\r\n      app.focus();\r\n      app.addEventListener(\"keydown\", handler);\r\n    }\r\n    return () => {\r\n      app?.removeEventListener(\"keydown\", handler);\r\n    };\r\n  }, [ref, handler]);\r\n\r\n  let c = component ? component : \"div\";\r\n  return React.createElement<WithAttributes<WithLevel>, WithLevel>(\r\n    c,\r\n    {\r\n      ref,\r\n      \"data-level\": 1,\r\n      ...otherProps,\r\n    },\r\n    children\r\n  );\r\n};\r\n\r\nexport default Level1;\r\n"],"file":"level1.js"}